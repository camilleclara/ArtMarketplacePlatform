<div class="card product-card" (click)="goToDetails($event)" style="cursor: pointer;">
    <img [src]="getFirstImage()" class="card-img-top" alt="{{product.name}}" style="height: 200px; object-fit: cover;">
    <div class="card-body">
      <h5 class="card-title">{{ product.name }}</h5>
      <p class="card-text">{{ product.price | currency:'EUR' }}</p>
      <small class="text-muted">Artisan #<a [routerLink]="['/profile', product.artisanId]">{{ product.artisanName }}</a></small> <!-- ou récupérer son nom si nécessaire -->
      <div class="basket-controls mt-2">
        @if (getQuantityInBasket() === 0) {
          <button class="btn btn-primary w-100" (click)="addToBasket($event)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
              <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
            </svg> Ajouter au panier
          </button>
        } @else {
          <div class="d-flex justify-content-between align-items-center">
            <button class="btn btn-outline-primary d-flex justify-content-center align-items-center" (click)="removeFromBasket($event)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"/>
              </svg>
            </button>
            <span class="mx-2">{{ getQuantityInBasket() }}</span>
            <button class="btn btn-outline-primary d-flex justify-content-center align-items-center" (click)="addToBasket($event)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
              </svg>
            </button>
          </div>
        }
      </div>
    </div>
  </div>
  